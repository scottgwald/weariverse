<html>
<head>
	<title>Base 64 Canvas Image Test</title>
</head>
<body>
<canvas id="canvas" width="640" height="360"></canvas>
<img id="image" width="640" height="360"></img>
<!-- <img style="display:none" id="img" src=""></img> -->
<script>
window.onload = function () {
	// var c=document.getElementById("canvas");
	// var ctx=c.getContext("2d");
	// var img=document.getElementById("img");
	// ctx.drawImage(img, 50, 10);
	// console.log("Drawing shit real real good.");
	WS.cameraPhoto('photo');	
}

function photo(data) {
	WS.say("Got ma photo callback tangerine dream");
	console.log("beginning of data: " + data.slice(0,20));
	console.log("Length of data string: " + data.length);
	var c=document.getElementById("canvas");
	var ctx=c.getContext("2d");
	document.getElementById("image").setAttribute('src', 'data:image/jpeg;base64,' + data);
	var img=document.getElementById("image");
	// var img=document.getElementById("img");
	// img.src = 'data:image/jpeg;base64,' + data;
	ctx.drawImage(img, 50, 10);
	console.log("Made it past the drawImage call.");
	var centerX = c.width / 2;
	var centerY = c.height / 2;
	var radius = 70;

	ctx.beginPath();
	ctx.arc(centerX, centerY, radius, 0, 2 * Math.PI, false);
	ctx.fillStyle = 'green';
	ctx.fill();
	ctx.lineWidth = 5;
	ctx.strokeStyle = '#003300';
	ctx.stroke();
}

</script>

</body>
</html>